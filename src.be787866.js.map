{"version":3,"sources":["js/modal.js","index.js"],"names":["refs","openModalButtons","document","querySelectorAll","closeModalBtn","modals","body","querySelector","onKeypress","e","code","forEach","modal","classList","contains","closeModal","openModal","button","dataset","target","remove","bodyLock","add","bodyUnlock","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","addEventListener","nodeName","closest","onclick"],"mappings":";;;AAAA,MAAMA,EAAO,CACXC,iBAAkBC,SAASC,iBAAiB,qBAC5CC,cAAeF,SAASC,iBAAiB,sBACzCE,OAAQH,SAASC,iBAAiB,gBAClCG,KAAMJ,SAASK,cAAc,SAsC/B,SAASC,EAAWC,GACH,WAAXA,EAAEC,MACJV,EAAKK,OAAOM,QAAQC,IACbA,EAAMC,UAAUC,SAAS,cAC5BC,EAAWH,KAMnB,SAASI,EAAUC,GACHf,SAASK,cAAcU,EAAOC,QAAQC,QAC9CN,UAAUO,OAAO,aACvBC,IAGF,SAASN,EAAWH,GAClBA,EAAMC,UAAUS,IAAI,aACpBC,IAGF,SAASF,IACDG,MAAAA,EAAmBC,OAAOC,WAAa1B,EAAKM,KAAKqB,YAAc,KAErE3B,EAAKM,KAAKsB,MAAMC,aAAeL,EAC/BxB,EAAKM,KAAKO,UAAUS,IAAI,QAG1B,SAASC,IACPvB,EAAKM,KAAKsB,MAAMC,aAAe,MAC/B7B,EAAKM,KAAKO,UAAUO,OAAO,QAjE7BK,OAAOK,iBAAiB,UAAWtB,GAEnCR,EAAKC,iBAAiBU,QAAQM,IAC5BA,EAAOa,iBAAiB,QAASrB,IAC3BQ,GAAoB,OAApBA,EAAOc,SAAmB,CAGxB,IAFatB,EAAEU,OAAOa,QAAQ,mBAGhC,OAGJhB,EAAUC,OAIdjB,EAAKI,cAAcO,QAAQM,IACzBA,EAAOa,iBAAiB,QAAS,KAC/B9B,EAAKK,OAAOM,QAAQC,IACdA,IAAUK,EAAOe,QAAQ,iBAC3BjB,EAAWH,SAMnBa,OAAOQ,QAAUxB,CAAAA,IACfT,EAAKK,OAAOM,QAAQC,IACdH,EAAEU,SAAWP,IACVA,EAAMC,UAAUC,SAAS,cAC5BC,EAAWH;;ACnCnB,aADA,QAAA,oBACA,QAAA","file":"src.be787866.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  openModalButtons: document.querySelectorAll('[data-modal-open]'),\n  closeModalBtn: document.querySelectorAll('[data-modal-close]'),\n  modals: document.querySelectorAll('[data-modal]'),\n  body: document.querySelector('body'),\n};\n\nwindow.addEventListener('keydown', onKeypress);\n\nrefs.openModalButtons.forEach(button => {\n  button.addEventListener('click', e => {\n    if (button.nodeName === 'UL') {\n      const cardItem = e.target.closest('.filmList__item');\n\n      if (!cardItem) {\n        return;\n      }\n    }\n    openModal(button);\n  });\n});\n\nrefs.closeModalBtn.forEach(button => {\n  button.addEventListener('click', () => {\n    refs.modals.forEach(modal => {\n      if (modal === button.closest('[data-modal]')) {\n        closeModal(modal);\n      }\n    });\n  });\n});\n\nwindow.onclick = e => {\n  refs.modals.forEach(modal => {\n    if (e.target === modal) {\n      if (!modal.classList.contains('is-hidden')) {\n        closeModal(modal);\n      }\n    }\n  });\n};\n\nfunction onKeypress(e) {\n  if (e.code === 'Escape') {\n    refs.modals.forEach(modal => {\n      if (!modal.classList.contains('is-hidden')) {\n        closeModal(modal);\n      }\n    });\n  }\n}\n\nfunction openModal(button) {\n  const modal = document.querySelector(button.dataset.target);\n  modal.classList.remove('is-hidden');\n  bodyLock();\n}\n\nfunction closeModal(modal) {\n  modal.classList.add('is-hidden');\n  bodyUnlock();\n}\n\nfunction bodyLock() {\n  const lockPaddingValue = window.innerWidth - refs.body.offsetWidth + 'px';\n\n  refs.body.style.paddingRight = lockPaddingValue;\n  refs.body.classList.add('lock');\n}\n\nfunction bodyUnlock() {\n  refs.body.style.paddingRight = '0px';\n  refs.body.classList.remove('lock');\n}\n","import './sass/main.scss';\nimport './js/modal';\n"]}